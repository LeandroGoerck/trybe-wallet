(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{36:function(e,t,a){e.exports=a(52)},41:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(19),c=a.n(l),o=a(22),s=(a(41),a(14)),i=a(4),u=a(5),d=a(7),p=a(6),b=a(3),m=a(17),h=a(13),f=a(24),E=a.n(f),y=a(32),g=function(e){return{type:"UPDATE_FORM",payload:e}},x="https://economia.awesomeapi.com.br/json/all",v=function(){return function(){var e=Object(y.a)(E.a.mark((function e(t,a){var n,r,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),r=n.wallet.expenses.map((function(e){var t=Number(e.value),a=e.exchangeRates[e.currency].name,n=Number(e.exchangeRates[e.currency].ask);return[t,a,n,t*n]})),l=r.reduce((function(e,t){return e+t[3]}),0),r.total=l,e.abrupt("return",t({type:"ADD_TOTAL_VALUE",payload:l}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()};var w=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.addEmail,a=e.email,n=e.buttonDisable,l=e.history;return r.a.createElement("div",{className:"flex items-center justify-between"},r.a.createElement("button",{className:n?"bg-green-500 text-white font-bold py-2 px-4 rounded opacity-50\n              cursor-not-allowed":"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",type:"button",disabled:n,onClick:function(){t(a),l.push("/carteira")}},"Entrar"))}}]),a}(n.Component),N=Object(s.b)(null,(function(e){return{addEmail:function(t){return e({type:"ADD_EMAIL",payload:t})}}}))(w),j=a(20),O=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.testID,a=e.type,n=e.placeholder,l=e.id,c=e.value,o=e.handleChange,s=e.enableCheckIcon;return r.a.createElement("div",{className:"max-w-xs relative"},r.a.createElement("div",{className:"mb-4"},r.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:l},a.charAt(0).toUpperCase()+a.slice(1)),r.a.createElement("input",{className:"shadow appearance-none border rounded w-80 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline","data-testid":t,type:a,placeholder:n,id:l,value:c,onChange:function(e){return o(e)}})),r.a.createElement(j.a,{className:s?"absolute top-10 right-2 z-10 text-green-500":"absolute top-10 right-2 z-10 text-red-500 opacity-50"}))}}]),a}(n.Component),C=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"absolute top-12 left-44 text-5xl",style:{fontFamily:'"Alegreya Sans SC", sans-serif'}},r.a.createElement("span",{className:"text-green-600"},"T"),r.a.createElement("span",null,"rybe "),r.a.createElement("span",{className:"text-yellow-400"},"W"),r.a.createElement("span",null,"allet"))}}]),a}(n.Component),k=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={email:"",password:"",buttonDisable:!0,enableEmail:!1,enablePassword:!1},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.checkInput=n.checkInput.bind(Object(h.a)(n)),n.validateCheck=n.validateCheck.bind(Object(h.a)(n)),n}return Object(u.a)(a,[{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.value,r=a.id;this.setState(Object(m.a)({},r,n),(function(){return t.checkInput()}))}},{key:"validateCheck",value:function(){var e=this.state,t=e.email,a=e.password;/\S+@\S+\.\S+/.test(t)?this.setState({enableEmail:!0}):this.setState({enableEmail:!1}),6<=a.length?this.setState({enablePassword:!0}):this.setState({enablePassword:!1})}},{key:"checkInput",value:function(){var e=this.state,t=e.email,a=e.password;/\S+@\S+\.\S+/.test(t)&&6<=a.length?this.setState({buttonDisable:!1}):this.setState({buttonDisable:!0}),this.validateCheck()}},{key:"render",value:function(){var e=this.state,t=e.buttonDisable,a=e.email,n=e.password,l=e.enableEmail,c=e.enablePassword,o=this.props.history;return r.a.createElement("div",{className:"h-full w-full flex flex-col items-center justify-center"},r.a.createElement("div",{className:"flex flex-row items-center justify-evenly border pl-24 shadow-2xl relative"},r.a.createElement(C,null),r.a.createElement("form",{className:"bg-white shadow-2xl rounded px-12 pt-6 pb-8 mb-4 mr-28 flex flex-col items-center"},r.a.createElement(O,{testID:"email-input",type:"email",placeholder:"alguem@alguem.com",id:"email",value:a,handleChange:this.handleChange,enableCheckIcon:l}),r.a.createElement(O,{testID:"password-input",type:"password",placeholder:"*******",id:"password",value:n,handleChange:this.handleChange,enableCheckIcon:c}),r.a.createElement(N,{email:a,buttonDisable:t,history:o})),r.a.createElement("img",{src:"https://image.freepik.com/free-vector/savings-background-design_1270-10.jpg",alt:"wallet"})))}}]),a}(r.a.Component),S=a(33),_=["Dinheiro","Cart\xe3o de cr\xe9dito","Cart\xe3o de d\xe9bito"],A=["Alimenta\xe7\xe3o","Lazer","Trabalho","Transporte","Sa\xfade"],L=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={id:0,value:"",currency:"",method:_[0],tag:A[0],description:"",exchangeRates:{},currencies:[]},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.getCurrencies=n.getCurrencies.bind(Object(h.a)(n)),n.clearInput=n.clearInput.bind(Object(h.a)(n)),n.buttonSelectedLine=n.buttonSelectedLine.bind(Object(h.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getCurrencies()}},{key:"componentDidUpdate",value:function(){var e=this.buttonSelectedLine,t=this.props,a=t.wallet,n=t.updateForm;!0===a.updateForm&&(e(),n(!1))}},{key:"getCurrencies",value:function(){var e=this;fetch("https://economia.awesomeapi.com.br/json/all").then((function(e){return e.json()})).then((function(t){delete t.USDT;var a=Object.keys(t);e.setState({currencies:a,currency:a[0]})}))}},{key:"buttonSelectedLine",value:function(){var e=this.props.wallet,t=e.selectedLine;t>=0&&this.setState({id:e.expenses[t].id,value:e.expenses[t].value,currency:e.expenses[t].currency,method:e.expenses[t].method,tag:e.expenses[t].tag,description:e.expenses[t].description})}},{key:"clearInput",value:function(){var e=this.state.currencies;this.setState({value:"",currency:e[0],method:_[0],tag:A[0],description:"",exchangeRates:{}})}},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.id;this.setState(Object(m.a)({},n,a))}},{key:"renderOptions",value:function(e){return e.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.id,n=t.value,l=t.currency,c=t.method,o=t.tag,s=t.description,i=t.currencies,u=t.exchangeRates,d=this.props,p=d.wallet,b=d.addExpense,m=d.editExpenseLine,h=this.clearInput,f=this.renderOptions,E=p.selectedLine;return r.a.createElement("div",{className:E>=0?"h-20 bg-yellow-100 border-b-green-500 flex flex-row shadow-xl\n          items-center space-x-5 ":"h-20 bg-white border-b-green-500 flex flex-row shadow-xl\n          items-center space-x-5"},r.a.createElement("form",{className:"w-full flex flex-row justify-evenly"},r.a.createElement("span",{className:"pl-6 pr-6 text-yellow-500 font-bold "},r.a.createElement(S.a,{className:"h-12 w-12"})),r.a.createElement("label",{className:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 flex flex-row",htmlFor:"value"},r.a.createElement("input",{className:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-green-500",placeholder:"valor","data-testid":"value-input",type:"number",id:"value",value:n,onChange:this.handleChange})),r.a.createElement("label",{className:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 flex flex-row",htmlFor:"description"},r.a.createElement("span",{className:"pr-6"}),r.a.createElement("input",{className:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-green-500",placeholder:"descri\xe7\xe3o","data-testid":"description-input",type:"text",id:"description",value:s,onChange:this.handleChange})),r.a.createElement("select",{className:"form-select appearance-none block px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out pr-8 ml-8 focus:text-gray-700 focus:bg-white focus:border-green-600 focus:outline-none","aria-label":"moeda","data-testid":"currency-input",id:"currency",value:l,onChange:this.handleChange},f(i)),r.a.createElement("select",{className:"form-select appearance-none block px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out pr-8 ml-8 focus:text-gray-700 focus:bg-white focus:border-green-600 focus:outline-none","aria-label":"Metodo Pagamento","data-testid":"method-input",id:"method",value:c,onChange:this.handleChange},f(_)),r.a.createElement("select",{className:"form-select appearance-none block px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out pr-8 ml-8 focus:text-gray-700 focus:bg-white focus:border-green-600 focus:outline-none","aria-label":"Categoria","data-testid":"tag-input",id:"tag",value:o,onChange:this.handleChange},f(A)),r.a.createElement("button",{className:E>=0?"h-min-10  bg-yellow-500  text-black rounded  opacity-80\n              hover:opacity-100 pr-2 pl-2 ml-4 mr-2":"h-min-10  bg-green-500  text-black rounded  opacity-80\n              hover:opacity-100 pr-2 pl-2 ml-4 mr-2",type:"button",onClick:function(){var t={id:a,value:n,currency:l,method:c,tag:o,description:s,exchangeRates:u};E>=0?m(t):b(t),e.setState({value:""}),h()}},E>=0?"Editar despesa":"Adicionar despesa")))}}]),a}(n.Component),D=Object(s.b)((function(e){return e}),(function(e){return{addExpense:function(t){return e(function(e){return function(t){return t({type:"REQUEST_EXCHANGE_RATES"}),fetch(x).then((function(e){return e.json()})).then((function(a){var n=e.id,r=e.value,l=e.currency,c=e.method,o=e.tag,s=e.description;t(function(e){return{type:"ADD_EXCHANGE_RATES",payload:e}}({id:n,value:r,description:s,currency:l,method:c,tag:o,exchangeRates:a})),t(v())}))}}(t))},requestExchangeRates:function(){return e({type:"REQUEST_EXCHANGE_RATES"})},fetchExchangeRates:function(t){return e((function(e){return e({type:"REQUEST_EXCHANGE_RATES"}),fetch(x).then((function(e){return e.json()})).then((function(e){return e}))}))},editExpenseLine:function(t){return e(function(e){return function(t,a){var n=a().wallet.selectedLine;return t({type:"REQUEST_EXCHANGE_RATES"}),fetch(x).then((function(e){return e.json()})).then((function(a){var r=e.id,l=e.value,c=e.currency,o=e.method,s=e.tag,i=e.description;t(function(e,t){return{type:"CHANGE_LINE",payload:e,index:t}}({id:r,value:l,description:i,currency:c,method:o,tag:s,exchangeRates:a},n)),t(v())}))}}(t))},updateForm:function(t){return e(g(t))}}}))(L),T=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.calcTotalExpense)()}},{key:"render",value:function(){var e=this.props.user.email,t=this.props.wallet.total,a=void 0===t?"187.12":t,n=Math.round(100*Number(a))/100;return r.a.createElement("div",{className:"h-20 bg-white-200 border-b-green-500 flex flex-row border items-center space-x-5 place-content-between mt-10"},r.a.createElement("div",{className:"text-4xl m-4 ml-8",style:{fontFamily:'"Alegreya Sans SC", sans-serif'}},r.a.createElement("span",{className:"text-green-600"},"T"),r.a.createElement("span",null,"rybe "),r.a.createElement("span",{className:"text-yellow-400"},"W"),r.a.createElement("span",null,"allet")),r.a.createElement("div",null,r.a.createElement("span",{"data-testid":"email-field",className:"p-10 text-yellow-400"},e),r.a.createElement("span",{className:"text-green-500 mr-2"},"Despesa total: R$"),r.a.createElement("span",{"data-testid":"total-field",className:"text-green-500 mr-1"},n),r.a.createElement("span",{"data-testid":"header-currency-field",className:"text-green-500 mr-8"},"BRL")))}}]),a}(n.Component),R=Object(s.b)((function(e){return e}),(function(e){return{calcTotalExpense:function(){return e(v())}}}))(T),I=a(34),F=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.wallet,a=e.delExpenseLine,n=e.calcTotalExpense,l=e.selectLine,c=e.updateForm,o=t.expenses,s=t.selectedLine;return r.a.createElement("table",{className:"table-auto border-collapse"},r.a.createElement("tr",null,r.a.createElement("th",{className:"px-4 py-2 border-b border-slate-300"},"Descri\xe7\xe3o"),r.a.createElement("th",{className:"px-4 py-2 border-b border-slate-300"},"Tag"),r.a.createElement("th",{className:"px-4 py-2 border-b border-slate-300"},"M\xe9todo de pagamento"),r.a.createElement("th",{className:"px-4 py-2 border-b border-slate-300"},"Valor"),r.a.createElement("th",{className:"px-4 py-2 border-b border-slate-300"},"Moeda"),r.a.createElement("th",{className:"px-4 py-2 border-b border-slate-300"},"C\xe2mbio utilizado"),r.a.createElement("th",{className:"px-4 py-2 border-b border-slate-300"},"Valor convertido"),r.a.createElement("th",{className:"px-4 py-2 border-b border-slate-300"},"Moeda de convers\xe3o"),r.a.createElement("th",{className:"px-4 py-2 border-b border-slate-300"},"Editar/Excluir")),o.length>0&&o.map((function(e,t){var o=e.exchangeRates[e.currency].name.split("/"),i=Number(e.exchangeRates[e.currency].ask),u=Number(e.value)*i;return r.a.createElement("tbody",{key:e.id,className:"text-center"},r.a.createElement("tr",{className:s===t?"bg-yellow-100":""},r.a.createElement("td",{className:"border-b border-slate-300"},e.description),r.a.createElement("td",{className:"border-b border-slate-300"},e.tag),r.a.createElement("td",{className:"border-b border-slate-300"},e.method),r.a.createElement("td",{className:"border-b border-slate-300"},e.value),r.a.createElement("td",{className:"border-b border-slate-300"},o[0]),r.a.createElement("td",{className:"border-b border-slate-300"},i.toFixed(2)),r.a.createElement("td",{className:"border-b border-slate-300"},u.toFixed(2)),r.a.createElement("td",{className:"border-b border-slate-300"},"Real"),r.a.createElement("td",{className:"border-b border-slate-300"},r.a.createElement("button",{className:"bg-yellow-500 font-bold py-2 px-4 rounded opacity-50 hover:opacity-100","data-testid":"edit-btn",onClick:function(){l(t),c(!0)},type:"button"},r.a.createElement(j.b,{className:"text-white"})),r.a.createElement("button",{className:"bg-red-500 text-white font-bold py-2 px-4 rounded opacity-50 hover:opacity-100 ml-4 ","data-testid":"delete-btn",onClick:function(){a(t),n()},type:"button"},r.a.createElement(I.a,{className:"text-white"})))))})))}}]),a}(r.a.Component),U=Object(s.b)((function(e){return e}),(function(e){return{delExpenseLine:function(t){return e(function(e){return{type:"DEL_EXPENSE_LINE",payload:e}}(t))},calcTotalExpense:function(){return e(v())},selectLine:function(t){return e({type:"SELECT_LINE",payload:t})},updateForm:function(t){return e(g(t))}}}))(F),M=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(R,null),r.a.createElement(D,null),r.a.createElement(U,null))}}]),a}(r.a.Component),X=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(b.c,null,r.a.createElement(b.a,{exact:!0,path:"/",component:k}),r.a.createElement(b.a,{exact:!0,path:"/carteira",component:M}))}}]),a}(r.a.Component);var P=function(){return r.a.createElement(X,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=a(15),H=a(35),Q=a(9),V={email:"",enableButton:!1},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EMAIL":return Object(Q.a)(Object(Q.a)({},e),{},{email:t.payload});default:return e}},B=a(27),W={expenses:[],total:0},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0,a=t.payload;switch(t.type){case"REQUEST_EXCHANGE_RATES":return e;case"ADD_EXCHANGE_RATES":return Object(Q.a)(Object(Q.a)({},e),{},{expenses:[].concat(Object(B.a)(e.expenses),[Object(Q.a)(Object(Q.a)({},a),{},{id:e.expenses.length})])});case"ADD_TOTAL_VALUE":return e.total=Number(a),Object(Q.a)({},e);case"DEL_EXPENSE_LINE":return Object(Q.a)(Object(Q.a)({},e),{},{expenses:Object(B.a)(e.expenses.filter((function(e,t){return t!==a})))});case"SELECT_LINE":return e.selectedLine=Number(a),Object(Q.a)({},e);case"CHANGE_LINE":return e.expenses[t.index]=a,e.selectedLine=-1,Object(Q.a)({},e);case"UPDATE_FORM":return e.updateForm=a,Object(Q.a)({},e);default:return e}},$=Object(G.c)({user:z,wallet:J}),q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||G.d,K=Object(G.e)($,q(Object(G.a)(H.a)));c.a.render(r.a.createElement(o.a,null,r.a.createElement(s.a,{store:K},r.a.createElement(P,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.12104a6f.chunk.js.map